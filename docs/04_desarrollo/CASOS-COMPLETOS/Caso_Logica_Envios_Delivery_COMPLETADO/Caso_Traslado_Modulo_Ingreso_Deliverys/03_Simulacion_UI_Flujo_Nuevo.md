# 03. SimulaciÃ³n UI - Flujo Nuevo Phase 2.5

**VersiÃ³n:** v1.0.0  
**Fecha:** 2025-01-24  
**Status:** âœ… WIREFRAMES COMPLETOS

---

## ğŸ¨ Mockup Phase 2.5: Checkpoint Deliveries

### Pantalla Completa (Desktop/Tablet)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CashGuard Paradise                        ğŸŒ™ Evening Cut      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”„ FASE 2.5: RevisiÃ³n de Deliveries Pendientes         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  Antes de generar el reporte final, revise los cobros         â”‚
â”‚  pendientes de envÃ­os. Estos montos se restarÃ¡n               â”‚
â”‚  automÃ¡ticamente del SICAR esperado.                          â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¦ Deliveries Pendientes (COD)                        â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ â• Agregar Nuevo Delivery                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Cliente: [___________________________]          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Monto: $[_________]                             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Courier: [â–¼ Seleccionar]                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ # GuÃ­a: [___________________________]           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [Cancelar] [â• Agregar Delivery]                â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ ğŸ“‹ Lista de Pendientes (3)                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Juan PÃ©rez - $45.00 [C807 #12345]            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Hace 2 dÃ­as                                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [âœ“ Pagado] [âŒ Cancelar] [ğŸš« Rechazar]       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ MarÃ­a LÃ³pez - $120.00 [Melos #67890]         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Hace 5 dÃ­as                                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [âœ“ Pagado] [âŒ Cancelar] [ğŸš« Rechazar]       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Pedro GÃ³mez - $30.00 [C807 #11111]           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   âš ï¸ Hace 8 dÃ­as                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [âœ“ Pagado] [âŒ Cancelar] [ğŸš« Rechazar]       â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â„¹ï¸ Impacto en Reporte                                 â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  SICAR Esperado Original:        $5,000.00           â”‚   â”‚
â”‚  â”‚  Deliveries Pendientes (3):       -$195.00           â”‚   â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚   â”‚
â”‚  â”‚  SICAR Ajustado:                  $4,805.00          â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  âš ï¸ Los $195.00 en deliveries se restarÃ¡n del        â”‚   â”‚
â”‚  â”‚     efectivo esperado en el reporte final.            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [â† Volver a DivisiÃ³n]    [Continuar al Reporte â†’]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pantalla MÃ³vil (360px - 430px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CashGuard Paradise      â”‚
â”‚  ğŸŒ™ Evening Cut          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
â”‚                          â”‚
â”‚  ğŸ”„ FASE 2.5            â”‚
â”‚  Deliveries Pendientes   â”‚
â”‚                          â”‚
â”‚  Revise cobros antes del â”‚
â”‚  reporte final.          â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“¦ Pendientes (3) â”‚   â”‚
â”‚ â”‚                    â”‚   â”‚
â”‚ â”‚ Juan PÃ©rez         â”‚   â”‚
â”‚ â”‚ $45.00 â€¢ 2 dÃ­as    â”‚   â”‚
â”‚ â”‚ C807 #12345        â”‚   â”‚
â”‚ â”‚ [âœ“][âŒ][ğŸš«]        â”‚   â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚ â”‚ MarÃ­a LÃ³pez        â”‚   â”‚
â”‚ â”‚ $120.00 â€¢ 5 dÃ­as   â”‚   â”‚
â”‚ â”‚ Melos #67890       â”‚   â”‚
â”‚ â”‚ [âœ“][âŒ][ğŸš«]        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â„¹ï¸ Impacto         â”‚   â”‚
â”‚ â”‚ Original: $5,000   â”‚   â”‚
â”‚ â”‚ Pendientes: -$195  â”‚   â”‚
â”‚ â”‚ Ajustado: $4,805   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚
â”‚ [â† Volver]               â”‚
â”‚ [Continuar al Reporte â†’]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de InteracciÃ³n Usuario

### Escenario 1: Sin Deliveries Pendientes

```
Phase 2 (DivisiÃ³n) completada
        â†“
Phase 2.5: Pantalla muestra "0 deliveries pendientes"
        â†“
Usuario ve: "âœ… No hay deliveries pendientes. El reporte usarÃ¡ SICAR original."
        â†“
[Continuar al Reporte] (habilitado inmediatamente)
        â†“
Phase 3: Reporte con SICAR sin ajuste
```

### Escenario 2: Con Deliveries Pendientes (Sin cambios)

```
Phase 2 (DivisiÃ³n) completada
        â†“
Phase 2.5: Pantalla muestra "3 deliveries pendientes ($195)"
        â†“
Usuario revisa lista: "OK, estos estÃ¡n correctos"
        â†“
[Continuar al Reporte] (sin editar)
        â†“
Phase 3: Reporte con SICAR ajustado ($5,000 - $195 = $4,805)
```

### Escenario 3: Cobra un Delivery Durante la RevisiÃ³n

```
Phase 2.5: Ve "Juan PÃ©rez - $45.00"
        â†“
Usuario recuerda: "Â¡Juan acaba de pagar hace 10 minutos!"
        â†“
Click [âœ“ Pagado] en delivery de Juan
        â†“
Sistema actualiza:
  - Deliveries pendientes: 3 â†’ 2
  - Total pendiente: $195 â†’ $150
  - SICAR ajustado: $4,805 â†’ $4,850
        â†“
[Continuar al Reporte]
        â†“
Phase 3: Reporte CORRECTO (refleja pago reciente)
```

### Escenario 4: Agregar Delivery Olvidado

```
Phase 2.5: Usuario recuerda delivery no registrado
        â†“
Click [â• Agregar Nuevo Delivery]
        â†“
Formulario:
  - Cliente: "Ana MartÃ­nez"
  - Monto: $80.00
  - Courier: C807
  - # GuÃ­a: #99999
        â†“
[Agregar Delivery]
        â†“
Sistema actualiza:
  - Deliveries pendientes: 3 â†’ 4
  - Total pendiente: $195 â†’ $275
  - SICAR ajustado: $4,805 â†’ $4,725
        â†“
[Continuar al Reporte]
        â†“
Phase 3: Reporte incluye delivery que faltaba
```

---

## ğŸ¯ Elementos UI Clave

### 1. Header con Contexto

```tsx
<div className="checkpoint-header">
  <Badge>ğŸ”„ FASE 2.5</Badge>
  <h2>RevisiÃ³n de Deliveries Pendientes</h2>
  <p className="text-muted">
    Antes de generar el reporte final, revise los cobros pendientes.
    Estos montos se restarÃ¡n del SICAR esperado.
  </p>
</div>
```

### 2. Panel de Impacto (Sticky)

```tsx
<div className="impact-panel sticky top-0">
  <h3>â„¹ï¸ Impacto en Reporte</h3>
  <div className="calculation">
    <div className="row">
      <span>SICAR Esperado Original:</span>
      <span className="value">$5,000.00</span>
    </div>
    <div className="row highlight">
      <span>Deliveries Pendientes ({pendingCount}):</span>
      <span className="value negative">-${pendingTotal}</span>
    </div>
    <div className="divider" />
    <div className="row total">
      <span>SICAR Ajustado:</span>
      <span className="value">$4,805.00</span>
    </div>
  </div>
  <Alert variant="warning">
    âš ï¸ Los ${pendingTotal} en deliveries se restarÃ¡n del efectivo esperado.
  </Alert>
</div>
```

### 3. Botones de NavegaciÃ³n

```tsx
<div className="navigation-buttons">
  <Button variant="outline" onClick={handleBack}>
    â† Volver a DivisiÃ³n
  </Button>
  <Button variant="primary" onClick={handleContinue}>
    Continuar al Reporte â†’
  </Button>
</div>
```

---

## ğŸ“± Responsiveness

| Breakpoint | Cambios UI |
|------------|------------|
| **â‰¥1024px (Desktop)** | Layout 2 columnas: DeliveryManager (70%) + Impact Panel (30%) |
| **768-1023px (Tablet)** | Layout vertical stacked, Impact Panel sticky top |
| **360-767px (Mobile)** | Cards compactos, botones full-width |

---

## âœ… Feedback Visual

### Estados del Delivery Item

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Juan PÃ©rez - $45.00              â”‚  â† Default
â”‚   C807 #12345 â€¢ Hace 2 dÃ­as        â”‚
â”‚   [âœ“][âŒ][ğŸš«]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Pedro GÃ³mez - $30.00             â”‚
â”‚   âš ï¸ C807 #11111 â€¢ Hace 8 dÃ­as     â”‚  â† Warning (>7 dÃ­as)
â”‚   [âœ“][âŒ][ğŸš«]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Luis DÃ­az - $200.00              â”‚
â”‚   ğŸ”´ C807 #22222 â€¢ Hace 16 dÃ­as    â”‚  â† Alert (>15 dÃ­as)
â”‚   [âœ“][âŒ][ğŸš«]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AnimaciÃ³n de ActualizaciÃ³n

```typescript
// Cuando usuario marca como pagado
onMarkAsPaid(delivery) {
  // 1. AnimaciÃ³n fade-out del item
  animate(deliveryItem, { opacity: 0 }, { duration: 0.3 });
  
  // 2. Actualizar contadores
  updatePendingCount(count - 1);
  updatePendingTotal(total - delivery.amount);
  
  // 3. Recalcular SICAR con animaciÃ³n
  animateSicarUpdate(newAdjustedSicar);
  
  // 4. Toast de confirmaciÃ³n
  toast.success(`âœ… Delivery de ${delivery.customerName} marcado como pagado`);
}
```

---

**Siguiente:** `04_Implementacion_Final.md`
